<section class="rmStairs" id="roadmap">
  <div class="container">
    <div class="rmStairs__head">
      <p class="rmStairs__eyebrow">Roadmap</p>
      <h2 class="rmStairs__title">Project milestones</h2>
    </div>

    <div class="rmStairs__stack" role="list">
      <!-- 01 -->
      <article class="rmStep rmStep--1" role="listitem">
        <div class="rmStep__num">
          <span class="rmStep__n">01</span>
        </div>

        <div class="rmStep__card" data-spotlight>
          <div class="rmStep__icon" aria-hidden="true">
            <!-- chat bubble -->
            <svg viewBox="0 0 24 24" fill="none">
              <path
                d="M7 15h6"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
              />
              <path
                d="M5 18.5V18c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2v.5"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
              />
              <path
                d="M7 4h10a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H9l-4 3V6a2 2 0 0 1 2-2Z"
                stroke="currentColor"
                stroke-width="2"
                stroke-linejoin="round"
              />
            </svg>
          </div>

          <div class="rmStep__content">
            <h3 class="rmStep__h">SHAPE TITLE</h3>
            <p class="rmStep__p">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
            </p>
            <p class="rmStep__p rmStep__p--muted">
              Integer luctus, ante lacinia dignissim commodo
            </p>
          </div>

          <!-- ribbon/tape loop -->
          <div class="rmTape" aria-hidden="true">
            <span class="rmTape__track"></span>
            <span class="rmTape__track rmTape__track--2"></span>
          </div>
        </div>
      </article>

      <!-- 02 -->
      <article class="rmStep rmStep--2" role="listitem">
        <div class="rmStep__num">
          <span class="rmStep__n">02</span>
        </div>

        <div class="rmStep__card" data-spotlight>
          <div class="rmStep__icon" aria-hidden="true">
            <!-- building -->
            <svg viewBox="0 0 24 24" fill="none">
              <path
                d="M4 20h16"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
              />
              <path
                d="M6 20V6a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v14"
                stroke="currentColor"
                stroke-width="2"
                stroke-linejoin="round"
              />
              <path
                d="M9 8h2M13 8h2M9 12h2M13 12h2M9 16h2M13 16h2"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
              />
            </svg>
          </div>

          <div class="rmStep__content">
            <h3 class="rmStep__h">SHAPE TITLE</h3>
            <p class="rmStep__p">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
            </p>
            <p class="rmStep__p rmStep__p--muted">
              Integer luctus, ante lacinia dignissim commodo
            </p>
          </div>

          <div class="rmTape" aria-hidden="true">
            <span class="rmTape__track"></span>
            <span class="rmTape__track rmTape__track--2"></span>
          </div>
        </div>
      </article>

      <!-- 03 -->
      <article class="rmStep rmStep--3" role="listitem">
        <div class="rmStep__num">
          <span class="rmStep__n">03</span>
        </div>

        <div class="rmStep__card" data-spotlight>
          <div class="rmStep__icon" aria-hidden="true">
            <!-- person -->
            <svg viewBox="0 0 24 24" fill="none">
              <path
                d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4Z"
                stroke="currentColor"
                stroke-width="2"
              />
              <path
                d="M4 20a8 8 0 0 1 16 0"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
              />
            </svg>
          </div>

          <div class="rmStep__content">
            <h3 class="rmStep__h">SHAPE TITLE</h3>
            <p class="rmStep__p">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
            </p>
            <p class="rmStep__p rmStep__p--muted">
              Integer luctus, ante lacinia dignissim commodo
            </p>
          </div>

          <div class="rmTape" aria-hidden="true">
            <span class="rmTape__track"></span>
            <span class="rmTape__track rmTape__track--2"></span>
          </div>
        </div>
      </article>

      <!-- 04 -->
      <article class="rmStep rmStep--4" role="listitem">
        <div class="rmStep__num">
          <span class="rmStep__n">04</span>
        </div>

        <div class="rmStep__card" data-spotlight>
          <div class="rmStep__icon" aria-hidden="true">
            <!-- download -->
            <svg viewBox="0 0 24 24" fill="none">
              <path
                d="M12 3v10"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
              />
              <path
                d="M8 10l4 4 4-4"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M5 20h14"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
              />
            </svg>
          </div>

          <div class="rmStep__content">
            <h3 class="rmStep__h">SHAPE TITLE</h3>
            <p class="rmStep__p">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
            </p>
            <p class="rmStep__p rmStep__p--muted">
              Integer luctus, ante lacinia dignissim commodo
            </p>
          </div>

          <div class="rmTape" aria-hidden="true">
            <span class="rmTape__track"></span>
            <span class="rmTape__track rmTape__track--2"></span>
          </div>
        </div>
      </article>
    </div>
  </div>
</section>

<style>
  .rmStairs {
    --shadowA: 0 24px 60px rgba(15, 20, 35, 0.14);
    --shadowB: 0 10px 22px rgba(15, 20, 35, 0.1);
    --cardH: 118px;
    --numW: 130px;
    --gapY: 18px;

    background: radial-gradient(
      1200px 540px at 35% 0%,
      #f7f9fb 0%,
      var(--bg) 55%,
      #e9edf2 100%
    );
    padding: 70px 20px 80px;
    overflow: hidden;
    color: var(--ink);
    font-family:
      ui-sans-serif,
      system-ui,
      -apple-system,
      Segoe UI,
      Roboto,
      Arial,
      "Apple Color Emoji",
      "Segoe UI Emoji";
  }

  .rmStairs__head {
    margin-bottom: 40px;
  }
  .rmStairs__eyebrow {
    letter-spacing: 0.16em;
    text-transform: uppercase;
    color: var(--textColor1);
    margin-bottom: 8px;
  }
  .rmStairs__title {
    font-size: clamp(26px, 3.2vw, 36px);
    line-height: 1.08;
    margin: 0;
  }

  .rmStairs__stack {
    position: relative;
    min-height: 520px;
  }

  /* faint “stage” */
  .rmStairs__stack::before {
    content: "";
    position: absolute;
    left: 14%;
    right: 4%;
    top: 10px;
    height: 20px;
    border-radius: 999px;
    background: radial-gradient(
      closest-side,
      rgba(0, 0, 0, 0.1),
      transparent 70%
    );
    filter: blur(1px);
    opacity: 0.35;
  }

  .rmStep {
    position: absolute;
    left: 0;
    right: 0;
    display: grid;
    grid-template-columns: var(--numW) 1fr;
    align-items: center;
    gap: 0;
    transform-origin: left center;
    will-change: transform, filter;
    animation: rmFloat 7.5s ease-in-out infinite;
  }

  /* stair positions (match screenshot layout) */
  .rmStep--1 {
    top: 358px;
    left: 0;
    right: 0;
    animation-delay: -1.2s;
  }
  .rmStep--2 {
    top: 248px;
    left: 60px;
    right: 0;
    animation-delay: -2.4s;
  }
  .rmStep--3 {
    top: 140px;
    left: 120px;
    right: 0;
    animation-delay: -3.6s;
  }
  .rmStep--4 {
    top: 32px;
    left: 180px;
    right: 0;
    animation-delay: -4.8s;
  }

  @keyframes rmFloat {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-6px);
    }
  }

  .rmStep__num {
    height: var(--cardH);
    border-radius: 10px;
    position: relative;
    display: grid;
    place-items: center;
    box-shadow: var(--shadowB);
    overflow: hidden;
  }

  /* little dark “tab” on top-right like in screenshot */
  .rmStep__num::after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    width: 26px;
    height: 34px;
    border-bottom-left-radius: 9px;
    background: rgba(25, 30, 40, 0.72);
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.06);
  }

  .rmStep__n {
    font-weight: 800;
    letter-spacing: 0.02em;
    font-size: 44px;
    line-height: 1;
  }

  .rmStep__card {
    position: relative;
    height: var(--cardH);
    background: linear-gradient(180deg, #ffffff 0%, #f4f6f9 100%);
    border-radius: 10px;
    box-shadow: var(--shadowA);
    display: grid;
    grid-template-columns: 72px 1fr;
    align-items: center;
    padding: 0 22px 0 16px;
    overflow: hidden;
    isolation: isolate;
  }

  /* card subtle bevel */
  .rmStep__card::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 10px;
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.85),
      inset 0 -1px 0 rgba(0, 0, 0, 0.06);
    pointer-events: none;
    z-index: 0;
  }

  /* spotlight that follows cursor (JS updates vars) */
  .rmStep__card::after {
    content: "";
    position: absolute;
    inset: -1px;
    border-radius: 10px;
    background: radial-gradient(
      280px 180px at var(--mx, 70%) var(--my, 50%),
      rgba(255, 255, 255, 0.85) 0%,
      rgba(255, 255, 255, 0.3) 34%,
      rgba(255, 255, 255, 0) 62%
    );
    opacity: 0;
    transition: opacity 0.22s ease;
    pointer-events: none;
    z-index: 0;
  }

  .rmStep__icon {
    width: 38px;
    height: 38px;
    display: grid;
    place-items: center;
    color: rgba(28, 35, 48, 0.55);
    position: relative;
    z-index: 2;
  }
  .rmStep__icon svg {
    width: 30px;
    height: 30px;
  }

  .rmStep__content {
    position: relative;
    z-index: 2;
  }
  .rmStep__h {
    margin: 0 0 6px;
    letter-spacing: 0.06em;
    font-weight: 900;
    color: var(--textColor2);
  }
  .rmStep__p {
    margin: 0;
    font-size: 13px;
    line-height: 1.45;
    color: rgba(17, 19, 22, 0.78);
  }
  .rmStep__p--muted {
    color: rgba(17, 19, 22, 0.52);
  }

  /* ===== Colors for number blocks (match screenshot palette) ===== */
  .rmStep--1 .rmStep__num {
    background: linear-gradient(180deg, #f08a52 0%, #e67b3b 100%);
  }
  .rmStep--1 .rmStep__n {
    color: #fff;
    text-shadow: 0 10px 20px rgba(0, 0, 0, 0.14);
  }

  .rmStep--2 .rmStep__num {
    background: linear-gradient(180deg, #ffb13a 0%, #ff9a1b 100%);
  }
  .rmStep--2 .rmStep__n {
    color: #111;
  }

  .rmStep--3 .rmStep__num {
    background: linear-gradient(180deg, #b6c0cf 0%, #a8b3c5 100%);
  }
  .rmStep--3 .rmStep__n {
    color: #111;
  }

  .rmStep--4 .rmStep__num {
    background: linear-gradient(180deg, #94a4bc 0%, #7f93b1 100%);
  }
  .rmStep--4 .rmStep__n {
    color: #fff;
    text-shadow: 0 10px 20px rgba(0, 0, 0, 0.16);
  }

  /* ===== Modern hover effects ===== */
  .rmStep__card {
    transform: translateZ(0);
    transition:
      transform 0.28s cubic-bezier(0.2, 0.9, 0.2, 1),
      box-shadow 0.28s ease,
      filter 0.28s ease;
  }
  .rmStep__num {
    transition:
      transform 0.28s cubic-bezier(0.2, 0.9, 0.2, 1),
      filter 0.28s ease;
  }

  .rmStep:hover .rmStep__card {
    transform: translateY(-6px) scale(1.01);
    box-shadow:
      0 34px 90px rgba(15, 20, 35, 0.18),
      0 10px 24px rgba(15, 20, 35, 0.12);
    filter: saturate(1.05);
  }
  .rmStep:hover .rmStep__num {
    transform: translateY(-8px) rotate(-0.25deg);
    filter: saturate(1.08) contrast(1.02);
  }
  .rmStep:hover .rmStep__card::after {
    opacity: 1;
  }

  /* “progressive” icon pop */
  .rmStep:hover .rmStep__icon {
    color: rgba(28, 35, 48, 0.78);
    transform: translateY(-1px);
    transition:
      transform 0.28s cubic-bezier(0.2, 0.9, 0.2, 1),
      color 0.28s ease;
  }

  /* ===== Animated tape (“промотка ленты по кругу”) =====
     A looping band around the card (top + bottom) that continuously scrolls.
  */
  .rmTape {
    position: absolute;
    inset: 10px 12px;
    border-radius: 12px;
    pointer-events: none;
    z-index: 1;
    opacity: 0;
    transition: opacity 0.22s ease;
  }
  .rmTape__track {
    position: absolute;
    left: 0;
    right: 0;
    height: 10px;
    border-radius: 999px;
    background: linear-gradient(
        90deg,
        rgba(0, 0, 0, 0) 0%,
        rgba(0, 0, 0, 0.08) 12%,
        rgba(255, 255, 255, 0.85) 18%,
        rgba(0, 0, 0, 0.08) 24%,
        rgba(0, 0, 0, 0) 36%
      )
      0 0 / 240px 100% repeat-x;
    filter: blur(0.1px);
    opacity: 0.85;
    animation: rmTapeMove 1.35s linear infinite;
  }
  .rmTape__track {
    top: 0;
  }
  .rmTape__track--2 {
    bottom: 0;
    top: auto;
    opacity: 0.65;
    animation-duration: 1.65s;
    transform: scaleX(0.92);
  }
  @keyframes rmTapeMove {
    to {
      background-position: 240px 0;
    }
  }

  .rmStep:hover .rmTape {
    opacity: 1;
  }

  /* ===== Accessibility: reduced motion ===== */
  @media (prefers-reduced-motion: reduce) {
    .rmStep {
      animation: none;
    }
    .rmTape__track {
      animation: none;
    }
    .rmStep__card,
    .rmStep__num {
      transition: none;
    }
  }

  /* ===== Responsive ===== */
  @media (max-width: 950px) {
    .rmStairs__stack {
      min-height: 560px;
    }
    .rmStep {
      grid-template-columns: 110px 1fr;
    }
    .rmStep--1 {
      top: 340px;
      left: 0;
    }
    .rmStep--2 {
      top: 240px;
      left: 40px;
    }
    .rmStep--3 {
      top: 140px;
      left: 80px;
    }
    .rmStep--4 {
      top: 40px;
      left: 120px;
    }
    .rmStep__card {
      grid-template-columns: 60px 1fr;
      padding: 0 18px 0 12px;
    }
    .rmStep__n {
      font-size: 38px;
    }
  }

  @media (max-width: 800px) {
    .rmStairs {
      padding: 56px 16px 70px;
    }
    .rmStairs__stack {
      min-height: 520px;
    }
    .rmStep {
      grid-template-columns: 90px 1fr;
    }
    .rmStep--1 {
      top: 320px;
      left: 0;
    }
    .rmStep--2 {
      top: 225px;
      left: 30px;
    }
    .rmStep--3 {
      top: 130px;
      left: 60px;
    }
    .rmStep--4 {
      top: 35px;
      left: 90px;
    }
    .rmStep__num {
      height: 100px;
    }
    .rmStep__card {
      height: 100px;
    }
    .rmStep__n {
      font-size: 34px;
    }
  }

  @media (max-width: 600px) {
    .rmStairs {
      padding: 44px 14px 56px;
    }
    .rmStairs__head {
      margin-bottom: 28px;
    }
    .rmStairs__stack {
      min-height: auto;
    }
    .rmStairs__stack::before {
      display: none;
    }
    .rmStep {
      position: relative;
      left: 0 !important;
      top: auto !important;
      margin: 0 0 var(--gapY);
      grid-template-columns: 72px 1fr;
      animation: none;
    }
    .rmStep__num {
      height: auto;
      min-height: 88px;
      align-self: stretch;
    }
    .rmStep__card {
      height: auto;
      min-height: 88px;
      grid-template-columns: 48px 1fr;
      padding: 14px 16px 14px 10px;
    }
    .rmStep__n {
      font-size: 30px;
    }
    .rmStep__icon {
      width: 32px;
      height: 32px;
    }
    .rmStep__icon svg {
      width: 24px;
      height: 24px;
    }
    .rmStep__num::after {
      width: 20px;
      height: 26px;
    }
  }
</style>

<script>
  (() => {
    const cards = document.querySelectorAll("[data-spotlight]");
    const clamp = (n, a, b) => Math.max(a, Math.min(b, n));
    cards.forEach((card) => {
      const move = (e) => {
        const r = card.getBoundingClientRect();
        const x = ((e.clientX - r.left) / r.width) * 100;
        const y = ((e.clientY - r.top) / r.height) * 100;
        card.style.setProperty("--mx", clamp(x, 0, 100) + "%");
        card.style.setProperty("--my", clamp(y, 0, 100) + "%");
      };
      card.addEventListener("pointermove", move, { passive: true });
      card.addEventListener("pointerenter", move, { passive: true });
    });
  })();
</script>
