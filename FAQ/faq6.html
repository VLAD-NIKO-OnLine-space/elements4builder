<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <section id="faq" class="faq">
      <div class="container">
        <div class="hkuawrfbhkskawdvchk">
          <h2>Frequently Asked Questions</h2>
          <div class="containerFAQ">
            <div class="accord__item">
              <div>
                <h3>Lorem ipsum dolor sit amet consectetur?</h3>
                <p>+</p>
              </div>
              <div class="" style="max-height: 0px; visibility: visible">
                <p style="visibility: hidden; margin-top: 0px">
                  Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eos,
                  cupiditate! Quam illum nihil reprehenderit dolor id non
                  excepturi ad error.
                </p>
              </div>
            </div>

            <div class="accord__item">
              <div>
                <h3>Lorem ipsum dolor sit amet consectetur?</h3>
                <p>+</p>
              </div>
              <div class="" style="max-height: 0px; visibility: visible">
                <p style="visibility: hidden; margin-top: 0px">
                  Lorem ipsum dolor sit amet consectetur adipisicing elit.
                  Dignissimos, voluptas illo qui consequatur quam accusamus
                  dolores repellendus tenetur ex dolore unde earum est animi
                  cumque neque mollitia in alias architecto. Iure debitis
                  repellat sed dicta.
                </p>
              </div>
            </div>
            <div class="accord__item">
              <div>
                <h3>Lorem ipsum dolor sit amet consectetur?</h3>
                <p>+</p>
              </div>
              <div class="" style="max-height: 0px; visibility: visible">
                <p style="visibility: hidden; margin-top: 0px">
                  Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos,
                  quisquam! Ex laborum minima provident dolorum.
                </p>
              </div>
            </div>
            <div class="accord__item">
              <div>
                <h3>Lorem ipsum dolor sit amet consectetur?</h3>
                <p>+</p>
              </div>
              <div class="" style="max-height: 0px; visibility: visible">
                <p style="visibility: hidden; margin-top: 0px">
                  Lorem ipsum dolor sit, amet consectetur adipisicing elit. Est
                  aliquam velit, sint iste officia tenetur doloribus, ex
                  deserunt enim illum impedit error accusantium ipsum.
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="faqImageWrap">
          <img data-image alt="" loading="lazy" />
        </div>
      </div>
    </section>

    <style>
      :root {
        --bodyBG: #161616;
        --textColor1: #eaeaea;
        --textColor2: #161616;

        --maxWidthContainer: 1320px;
        --secondStyleColor: #00c8ff;
        --borderRadius: 18px;
      }

      html {
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        -moz-box-sizing: border-box;
        -o-moz-box-sizing: border-box;
        box-sizing: border-box;
        scroll-behavior: smooth;
      }
      *,
      *::before,
      *::after {
        box-sizing: inherit;
        padding: 0;
        margin: 0;
      }
      a {
        text-decoration: none;
      }
      ul {
        margin: 0;
        padding: 0;
      }
      li {
        list-style: none;
      }
      h1,
      h2,
      h3,
      h4,
      h5,
      p {
        margin: 0;
      }
      h3 {
        font-size: 28px;
      }
      h2 {
        font-size: 38px;
      }
      p {
        font-size: 20px;
      }
      body {
        font-family: var(--font-sans);
        background-color: var(--bodyBG);
        color: var(--textColor1);
        font-weight: 500;
        line-height: 1.2;
      }

      .container {
        max-width: var(--maxWidthContainer);
        padding: 0 20px;
        margin: 0 auto;
      }
      .hkuawrfbhkskawdvchk {
        width: 90%;
      }

      #faq .container {
        display: flex;
        width: 100%;
        justify-content: space-between;
        align-items: center;
        gap: 40px;
        && h2 {
          width: 100%;
          text-align: flex-start;
          margin-bottom: 40px;
        }
      }
      .faqImageWrap {
        width: 1000px;
        height: 700px;
        && img {
          width: 100%;
          border-radius: var(--borderRadius);
          height: 100%;
          object-fit: cover;
        }
      }
      /*  */
      .containerFAQ {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      .faq > div {
        border-radius: var(--borderRadius);
      }

      #faq {
        border-radius: var(--borderRadius);
        padding: var(--sectionPadding);
      }

      .accord__item {
        position: relative;
        overflow: hidden;
        cursor: pointer;
        padding: 20px 20px 20px 0;
        border-bottom: 1px solid var(--secondStyleColor);
      }

      .accord__item h3,
      .accord__item p {
        margin-bottom: 0;
        margin: 0;
        color: var(--textColor1);
      }

      .accord__item > div:first-child > p {
        font-weight: 900;
        color: var(--secondStyleColor) !important;
        font-size: 24px !important;
        margin-bottom: 0;
      }

      .accord__item > div:first-child {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
      }

      .accord__item > div:last-child {
        max-height: 0;
        visibility: hidden;
        transition: 0.3s all linear;
      }

      .accord__item > div:last-child p {
        color: var(--textColor1) !important;
        text-align: left;
      }

      .show {
        visibility: visible !important;
      }

      .accord__item div + div {
        transition: max-height 0.3s ease;
        overflow: hidden;
        /* padding: 20px; padding будет учтен в scrollHeight */
        box-sizing: border-box; /* важно! */
      }

      .accord__item div + div p {
        transition: margin-top 0.3s ease;
        visibility: hidden;
        margin: 0;
      }

      .accord__item div + div.show p {
        visibility: visible;
        opacity: 1;
      }

      div.show {
        margin-top: 28px;
      }

      @media (max-width: 768px) {
        .accord__item {
          padding: 32px 16px;
        }
        .faqImageWrap {
          display: none;
        }
        .hkuawrfbhkskawdvchk {
          width: 100%;
        }
        #faq .container h2 {
          text-align: center;
        }
      }
    </style>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        function setParagraphMarginTop(paragraph) {
          if (window.innerWidth < 768) {
            paragraph.style.marginTop = "0";
          } else {
            paragraph.style.marginTop = "0";
          }
        }

        function toggleAccordionIcon(item, isOpen) {
          var iconParagraph = item.querySelector(
            ".accord__item>div:first-child>p",
          );
          if (iconParagraph) {
            if (isOpen) {
              iconParagraph.textContent = "-";
            } else {
              iconParagraph.textContent = "+";
            }
          }
        }

        var sections = document.querySelectorAll("section");
        sections.forEach(function (section) {
          var items = section.querySelectorAll(".accord__item");
          if (items.length > 0) {
            var firstItem = items[0];
            var descr = firstItem.querySelector("div + div");
            setTimeout(() => {
              descr.classList.add("show");

              var firstParagraph = descr.querySelector("p");

              if (firstParagraph) {
                firstParagraph.style.visibility = "visible";
                setParagraphMarginTop(firstParagraph);
              }

              descr.style.maxHeight = descr.scrollHeight + "px";

              // Устанавливаем иконку "-" для первого открытого элемента
              toggleAccordionIcon(firstItem, true);
            }, 0);

            items.forEach(function (item) {
              // Устанавливаем иконку "+" для всех остальных элементов
              if (item !== firstItem) {
                toggleAccordionIcon(item, false);
              }

              item.addEventListener("click", function () {
                var descr = item.querySelector("div + div");
                var secondDiv = item.querySelector("div + div");
                var paragraph = secondDiv ? secondDiv.querySelector("p") : null;

                // Закрываем все другие аккордеоны
                items.forEach(function (otherItem) {
                  if (otherItem !== item) {
                    var otherDescr = otherItem.querySelector("div + div");
                    var otherSecondDiv = otherItem.querySelector("div + div");
                    var otherParagraph = otherSecondDiv
                      ? otherSecondDiv.querySelector("p")
                      : null;

                    otherDescr.classList.remove("show");
                    otherDescr.style.maxHeight = "0";
                    if (otherParagraph) {
                      otherParagraph.style.visibility = "hidden";
                      otherParagraph.style.marginTop = "0";
                    }
                    // Меняем иконку на "+" для закрытых аккордеонов
                    toggleAccordionIcon(otherItem, false);
                  }
                });

                // Переключаем текущий аккордеон
                if (descr.classList.contains("show")) {
                  descr.classList.remove("show");
                  descr.style.maxHeight = "0";
                  if (paragraph) {
                    paragraph.style.visibility = "hidden";
                    paragraph.style.marginTop = "0";
                  }
                  toggleAccordionIcon(item, false);
                } else {
                  descr.classList.add("show");
                  descr.style.maxHeight = descr.scrollHeight + "px";
                  if (paragraph) {
                    paragraph.style.visibility = "visible";
                    setParagraphMarginTop(paragraph);
                  }
                  toggleAccordionIcon(item, true);
                }
              });
            });
          }
        });

        window.addEventListener("resize", function () {
          var sections = document.querySelectorAll("section");
          sections.forEach(function (section) {
            var items = section.querySelectorAll(".accord__item");
            items.forEach(function (item) {
              var descr = item.querySelector("div + div");
              if (descr.classList.contains("show")) {
                var paragraph = descr.querySelector("p");
                if (paragraph) {
                  setParagraphMarginTop(paragraph);
                }
              }
            });
          });
        });
      });
    </script>
  </body>
</html>
