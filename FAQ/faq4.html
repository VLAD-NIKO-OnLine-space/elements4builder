<section class="faq" id="faq">
  <div class="container faqContainer">
    <h2>FAQ</h2>
    <div class="card-faq">
      <article class="faq-article">
        <h3 class="faq-h3" data-accordion-element-trigger>
          Czy mogę przesyłać dowolne zdjęcia?
        </h3>
        <div data-accordion-element-content class="content">
          <p class="faq-p">
            Tak, narzędzie obsługuje szeroki zakres obrazów – najlepiej
            sprawdzają się dobrze oświetlone, wyraźne zdjęcia postaci. Efekty są
            generowane automatycznie przez system AI.
          </p>
        </div>
      </article>
      <article class="faq-article">
        <h3 class="faq-h3" data-accordion-element-trigger>
          Czy mogę przesyłać dowolne zdjęcia?
        </h3>
        <div data-accordion-element-content class="content">
          <p class="faq-p">
            Tak, narzędzie obsługuje szeroki zakres obrazów – najlepiej
            sprawdzają się dobrze oświetlone, wyraźne zdjęcia postaci. Efekty są
            generowane automatycznie przez system AI.
          </p>
        </div>
      </article>
      <article class="faq-article">
        <h3 class="faq-h3" data-accordion-element-trigger>
          Czy mogę przesyłać dowolne zdjęcia?
        </h3>
        <div data-accordion-element-content class="content">
          <p class="faq-p">
            Tak, narzędzie obsługuje szeroki zakres obrazów – najlepiej
            sprawdzają się dobrze oświetlone, wyraźne zdjęcia postaci. Efekty są
            generowane automatycznie przez system AI.
          </p>
        </div>
      </article>
      <article class="faq-article">
        <h3 class="faq-h3" data-accordion-element-trigger>
          Czy mogę przesyłać dowolne zdjęcia?
        </h3>
        <div data-accordion-element-content class="content">
          <p class="faq-p">
            Tak, narzędzie obsługuje szeroki zakres obrazów – najlepiej
            sprawdzają się dobrze oświetlone, wyraźne zdjęcia postaci. Efekty są
            generowane automatycznie przez system AI.
          </p>
        </div>
      </article>

      <article class="faq-article">
        <h3 class="faq-h3" data-accordion-element-trigger>
          Czy mogę przesyłać dowolne zdjęcia?
        </h3>
        <div data-accordion-element-content class="content">
          <p class="faq-p">
            Tak, narzędzie obsługuje szeroki zakres obrazów – najlepiej
            sprawdzają się dobrze oświetlone, wyraźne zdjęcia postaci. Efekty są
            generowane automatycznie przez system AI.
          </p>
        </div>
      </article>
    </div>
  </div>
</section>
<script src="./gianniAccordion.min.js"></script>
<script>
  window.gianniAccordion = (function () {
    return class {
      transitionendEventName() {
        var i,
          el = document.createElement("div"),
          transitions = {
            transition: "transitionend",
            OTransition: "otransitionend",
            MozTransition: "transitionend",
            WebkitTransition: "webkitTransitionEnd",
          };

        for (i in transitions) {
          if (transitions.hasOwnProperty(i) && el.style[i] !== undefined) {
            return transitions[i];
          }
        }
      }

      expand(el) {
        function resetHeight(ev) {
          if (ev.target != el.content) return;
          el.content.removeEventListener(this.transitionendevent, bindEvent);

          if (!el.isOpen) return;

          requestAnimationFrame(() => {
            el.content.style.transition = "0";
            el.content.style.height = "auto";

            requestAnimationFrame(() => {
              el.content.style.height = null;
              el.content.style.transition = null;

              this.setExpandedAria(el);
              el.wrapper.classList.add(this.expandedClass);
              this.trySetTabIndex(el.content, 0);

              this.fire("elementOpened", el);
            });
          });
        }

        var bindEvent = resetHeight.bind(this);
        el.content.addEventListener(this.transitionendevent, bindEvent);

        el.isOpen = true;
        el.wrapper.classList.remove(this.collapsedClass);
        el.content.style.height = el.content.scrollHeight + "px";
      }

      collapse(el) {
        function endTransition(ev) {
          if (ev.target != el.content) return;
          el.content.removeEventListener(this.transitionendevent, bindEvent);

          if (el.isOpen) return;

          this.fire("elementClosed", el);
          this.setCollapsedAria(el);
          el.wrapper.classList.add(this.collapsedClass);
          this.trySetTabIndex(el.content, -1);
        }

        var bindEvent = endTransition.bind(this);
        el.content.addEventListener(this.transitionendevent, bindEvent);

        el.isOpen = false;
        el.wrapper.classList.remove(this.expandedClass);

        requestAnimationFrame(() => {
          el.content.style.transition = "0";
          el.content.style.height = el.content.scrollHeight + "px";

          requestAnimationFrame(() => {
            el.content.style.transition = null;
            el.content.style.height = this.collapsedHeight;
          });
        });
      }

      open(el) {
        el.selected = true;
        this.fire("elementSelected", el);
        this.expand(el);
        el.wrapper.classList.add(this.selectedClass);
      }

      close(el) {
        el.selected = false;
        this.fire("elementUnselected", el);
        this.collapse(el);
        el.wrapper.classList.remove(this.selectedClass);
      }

      toggle(el) {
        if (el.selected) {
          this.close(el);
        } else {
          this.open(el);

          if (this.oneAtATime) {
            this.els
              .filter((e) => e != el && e.selected)
              .forEach((e) => {
                this.close(e);
              });
          }
        }
      }

      trySetTabIndex(el, index) {
        const tappableElements = el.querySelectorAll(this.defaultElements);
        if (tappableElements) {
          tappableElements.forEach((e) => {
            e.setAttribute("tabindex", index);
          });
        }
      }

      setExpandedAria(el) {
        el.trigger.setAttribute("aria-expanded", "true");
        el.content.setAttribute("aria-hidden", "false");
      }

      setCollapsedAria(el) {
        el.trigger.setAttribute("aria-expanded", "false");
        el.content.setAttribute("aria-hidden", "true");
      }

      attachEvents() {
        this.els.forEach((el, i) => {
          el.trigger.addEventListener("click", this.toggle.bind(this, el));
        });
      }

      setDefaultData() {
        this.els = [];
        this.events = {
          elementSelected: [],
          elementOpened: [],
          elementUnselected: [],
          elementClosed: [],
        };
        this.transitionendevent = this.transitionendEventName();
        this.oneAtATime = true;
        this.selectedClass = "selected";
        this.expandedClass = "expanded";
        this.collapsedClass = "collapsed";
        this.trigger = "[data-accordion-element-trigger]";
        this.content = "[data-accordion-element-content]";
        this.collapsedHeight = "0px";
        this.defaultElements = ["a", "button", "input"];
        this.openAtLandingIndex = -1;
      }

      setCustomData(data) {
        var keys = Object.keys(data);

        for (var i = 0; i < keys.length; i++) {
          this[keys[i]] = data[keys[i]];
        }
      }

      fire(eventName, el) {
        var callbacks = this.events[eventName];
        for (var i = 0; i < callbacks.length; i++) {
          callbacks[i](el);
        }
      }

      on(eventName, cb) {
        if (!this.events[eventName]) return;
        this.events[eventName].push(cb);
      }

      constructor(data) {
        this.setDefaultData();
        this.setCustomData(data); // ES6 => Object.assign(this, data)

        [].forEach.call(document.querySelectorAll(this.elements), (el, i) => {
          this.els.push({
            wrapper: el,
            trigger: el.querySelector(this.trigger),
            content: el.querySelector(this.content),
          });

          const element = this.els[i];

          if (this.openAtLandingIndex !== i) {
            element.content.style.height = this.collapsedHeight;
            element.wrapper.classList.add(this.collapsedClass);
            this.setCollapsedAria(element);
          } else {
            element.selected = true;
            element.wrapper.classList.add(this.selectedClass);
            element.wrapper.classList.add(this.expandedClass);
            this.setExpandedAria(element);
            this.fire("elementSelectedAtLanding", element);
          }
        });

        this.attachEvents();
      }
    };
  })();
</script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const acc = new gianniAccordion({
      elements: ".card-faq .faq-article", // поменяй на свой селектор
      oneAtATime: true, // как и было
    });

    acc.els.forEach(function (el) {
      el.content.addEventListener("click", function () {
        acc.toggle(el);
      });
    });

    // Открываем первый элемент вручную
    const first = acc.els && acc.els[0];
    if (first) acc.open(first);
  });
</script>
<style>
  [data-accordion-element-content] {
    overflow: hidden;
    transition: height 0.5s;
  }

  :root {
    --bgHead: var(--bodyBG);
    --bgHeadHover_active: var(--secondStyleColor);
    --bgText: rgba(255, 255, 255, 0.1);
  }

  .faq h2 {
    text-align: center;
  }
  .card-faq {
    width: 90%;
    margin: 50px auto;
    border-radius: 2px;
    background: transparent;
    margin-top: 40px;
  }

  .faq-article {
    position: relative;
    transition: all 0.3s;
    background-color: transparent;
    border-radius: 0 0 12px 12px;
    -webkit-border-radius: 0 0 12px 12px;
    -moz-border-radius: 0 0 12px 12px;
    -ms-border-radius: 0 0 12px 12px;
    -o-border-radius: 0 0 12px 12px;
    p {
      padding: 10px 20px;
    }
  }

  .faq-article.selected {
    transform: scale(1.1);
    z-index: 2;
    background: var(--bgText);
  }

  .faq-h3 {
    position: relative;
    background: var(--bgHead);
    padding: 20px 75px 20px 20px;
    font-size: 20px;
    line-height: 30px;
    color: #fff;
    overflow: hidden;
    transition: background 0.3s;
    margin: 10px 0;
    cursor: pointer;
  }

  .faq-h3:hover {
    background-color: rgba(255, 255, 255, 0.05);
  }

  .selected .faq-h3 {
    cursor: pointer;
    background: var(--bgHeadHover_active);
    color: var(--bgHead);
    border: none;
  }

  .faq-h3:before,
  .faq-h3:after {
    content: "";
    position: absolute;
    right: 0;
    top: 50%;
    margin-top: -1px;
    margin-right: 30px;
    width: 20px;
    height: 2px;
    background: #fff;
    transition: transform 0.3s;
  }

  .faq-h3:before {
    transform: rotate(0deg);
    animation: close-line-one-in 0.8s forwards;
  }

  .selected .faq-h3:before {
    animation: close-line-one-out 0.8s forwards;
    background: #000;
  }

  .faq-h3:after {
    transform: rotate(90deg);
    animation: close-line-two-in 0.8s forwards;
  }

  .selected .faq-h3:after {
    background: #000;
    animation: close-line-two-out 0.8s forwards;
  }

  .content {
    opacity: 0;
    transform: translateY(20px);
    transition: all ease-out 0.4s 0.1s;
  }

  .selected .content {
    transform: translateY(0);
    opacity: 1;
  }

  .faq-p {
    padding: 25px 30px 40px;
    font-size: 16px;
    line-height: 24px;
    color: #fff;
  }

  @keyframes close-line-one-out {
    0%,
    50% {
      transform: translateX(0);
    }
    75% {
      transform: translateX(50px);
    }
    76% {
      transform: translateX(50px) translateY(50px);
    }
    100% {
      transform: rotate(45deg);
    }
  }

  @keyframes close-line-one-in {
    0%,
    20% {
      transform: rotate(45deg);
    }
    60% {
      transform: translateX(50px) translateY(50px) rotate(45deg);
    }
    61% {
      transform: translateX(50px);
    }
    100% {
      transform: rotate(0deg);
    }
  }

  @keyframes close-line-two-out {
    0%,
    50% {
      transform: rotate(90deg);
    }
    75% {
      transform: translateY(-50px) rotate(90deg);
    }
    76% {
      transform: translateY(-50px) translateX(50px) rotate(90deg);
    }
    100% {
      transform: rotate(135deg);
    }
  }

  @keyframes close-line-two-in {
    0% {
      transform: rotate(135deg);
    }
    50% {
      transform: translateY(-50px) translateX(50px) rotate(135deg);
    }
    51% {
      transform: translateY(-50px) rotate(90deg);
    }
    100% {
      transform: rotate(90deg);
    }
  }

  @media screen and (max-width: 750px) {
    .card-faq {
      width: 90%;
    }
  }
</style>
