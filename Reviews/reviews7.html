<section id="reviews" class="rv-wrap">
  <div class="container">
    <div class="section-head">
      <div class="rv-head">
        <h2 class="rv-title chirox-h2">Reviews</h2>
        <div class="rv-controls">
          <button class="rev-btn prev" aria-label="Poprzedni">←</button>
          <button class="rev-btn next" aria-label="Następny">→</button>
        </div>
      </div>
    </div>

    <div class="swiper">
      <div class="swiper-wrapper">
        <!-- 1 -->
        <div class="swiper-slide">
          <article class="rv-card">
            <div class="rv-top">
              <h3 class="rv-meta chirox-h3">Isabella R.</h3>
              <div class="rv-rate">★ 4.9</div>
            </div>
            <p class="rv-quote">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore
              laudantium sequi culpa! Magnam laudantium dolor facere voluptates
              nulla sapiente facilis?
            </p>
            <div class="badges">
              <span class="pill">Płynność</span>
              <span class="pill">Styl</span>
            </div>
          </article>
        </div>

        <!-- 2 -->
        <div class="swiper-slide">
          <article class="rv-card">
            <div class="rv-top">
              <h3 class="rv-meta chirox-h3">Ethan V.</h3>
              <div class="rv-rate">★ 5.0</div>
            </div>
            <p class="rv-quote">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore
              laudantium sequi culpa! Magnam laudantium dolor facere voluptates
              nulla sapiente facilis?
            </p>
            <div class="badges">
              <span class="pill">Rankingi</span>
              <span class="pill">Trading</span>
            </div>
          </article>
        </div>

        <!-- 3 -->
        <div class="swiper-slide">
          <article class="rv-card">
            <div class="rv-top">
              <h3 class="rv-meta chirox-h3">Olivia K.</h3>
              <div class="rv-rate">★ 4.8</div>
            </div>
            <p class="rv-quote">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore
              laudantium sequi culpa! Magnam laudantium dolor facere voluptates
              nulla sapiente facilis?
            </p>
            <div class="badges">
              <span class="pill">Sterowanie</span>
              <span class="pill">Kosmetyki</span>
            </div>
          </article>
        </div>

        <!-- 4 -->
        <div class="swiper-slide">
          <article class="rv-card">
            <div class="rv-top">
              <h3 class="rv-meta chirox-h3">Arjun S.</h3>
              <div class="rv-rate">★ 4.9</div>
            </div>
            <p class="rv-quote">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore
              laudantium sequi culpa! Magnam laudantium dolor facere voluptates
              nulla sapiente facilis?
            </p>
            <div class="badges">
              <span class="pill">Kooperacja</span>
              <span class="pill">Sesje</span>
            </div>
          </article>
        </div>

        <!-- 5 -->
        <div class="swiper-slide">
          <article class="rv-card">
            <div class="rv-top">
              <h3 class="rv-meta chirox-h3">Arjun S.</h3>
              <div class="rv-rate">★ 4.9</div>
            </div>
            <p class="rv-quote">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore
              laudantium sequi culpa! Magnam laudantium dolor facere voluptates
              nulla sapiente facilis?
            </p>
            <div class="badges">
              <span class="pill">Kooperacja</span>
              <span class="pill">Sesje</span>
            </div>
          </article>
        </div>

        <div class="swiper-slide">
          <article class="rv-card">
            <div class="rv-top">
              <h3 class="rv-meta chirox-h3">Isabella R.</h3>
              <div class="rv-rate">★ 4.9</div>
            </div>
            <p class="rv-quote">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore
              laudantium sequi culpa! Magnam laudantium dolor facere voluptates
              nulla sapiente facilis?
            </p>
            <div class="badges">
              <span class="pill">Płynność</span>
              <span class="pill">Styl</span>
            </div>
          </article>
        </div>

        <!-- 2 -->
        <div class="swiper-slide">
          <article class="rv-card">
            <div class="rv-top">
              <h3 class="rv-meta chirox-h3">Ethan V.</h3>
              <div class="rv-rate">★ 5.0</div>
            </div>
            <p class="rv-quote">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore
              laudantium sequi culpa! Magnam laudantium dolor facere voluptates
              nulla sapiente facilis?
            </p>
            <div class="badges">
              <span class="pill">Rankingi</span>
              <span class="pill">Trading</span>
            </div>
          </article>
        </div>

        <!-- 3 -->
        <div class="swiper-slide">
          <article class="rv-card">
            <div class="rv-top">
              <h3 class="rv-meta chirox-h3">Olivia K.</h3>
              <div class="rv-rate">★ 4.8</div>
            </div>
            <p class="rv-quote">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore
              laudantium sequi culpa! Magnam laudantium dolor facere voluptates
              nulla sapiente facilis?
            </p>
            <div class="badges">
              <span class="pill">Sterowanie</span>
              <span class="pill">Kosmetyki</span>
            </div>
          </article>
        </div>

        <!-- 4 -->
        <div class="swiper-slide">
          <article class="rv-card">
            <div class="rv-top">
              <h3 class="rv-meta chirox-h3">Arjun S.</h3>
              <div class="rv-rate">★ 4.9</div>
            </div>
            <p class="rv-quote">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore
              laudantium sequi culpa! Magnam laudantium dolor facere voluptates
              nulla sapiente facilis?
            </p>
            <div class="badges">
              <span class="pill">Kooperacja</span>
              <span class="pill">Sesje</span>
            </div>
          </article>
        </div>

        <!-- 5 -->
        <div class="swiper-slide">
          <article class="rv-card">
            <div class="rv-top">
              <h3 class="rv-meta chirox-h3">Arjun S.</h3>
              <div class="rv-rate">★ 4.9</div>
            </div>
            <p class="rv-quote">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore
              laudantium sequi culpa! Magnam laudantium dolor facere voluptates
              nulla sapiente facilis?
            </p>
            <div class="badges">
              <span class="pill">Kooperacja</span>
              <span class="pill">Sesje</span>
            </div>
          </article>
        </div>
      </div>
    </div>
  </div>
</section>
<style>
  /* контейнер секции */
  #reviews .swiper {
    width: 100%;
    max-width: var(--maxWidthContainer);
    margin: 0 auto;
    overflow: hidden;
    padding: 10px 0;
  }

  .rv-wrap {
    padding: 40px 0 40px;
  }

  /* шапка секции */
  .rv-head {
    display: grid;
    grid-template-columns: 1fr auto;
    align-items: center;
    text-align: left;
    gap: 14px;
    margin-bottom: 45px;
  }

  .rv-kicker {
    grid-column: 1 / -1;
    color: var(--textColor1);
    font-weight: 800;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 0.72rem;
  }

  .rv-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--secondStyleColor);
  }

  .rv-title {
    margin: 0;
    color: var(--textColor1);
    text-transform: uppercase;
    font-size: 26px;
    letter-spacing: 0.12em;
  }

  /* контролы */
  .rv-controls {
    display: flex;
    gap: 10px;
    justify-content: flex-end;
  }

  /* кнопки навигации */
  .rev-btn {
    width: 40px;
    height: 40px;
    border-radius: 999px;
    border: 1px solid var(--secondStyleColor);
    background: var(--secondStyleColor);
    color: var(--textColor2);
    display: grid;
    place-items: center;
    cursor: pointer;
    font-size: 17px;
    transition: background 0.2s ease, border-color 0.2s ease,
      transform 0.18s ease;
  }

  .rev-btn:hover {
    transform: translateY(-1px);
  }

  /* карточки */
  .rv-card {
    background: var(--bodyBG);
    border: 1px solid var(--secondStyleColor);
    border-radius: var(--borderRadius);
    padding: 18px 20px;
    color: var(--textColor1);
    display: flex;
    flex-direction: column;
    height: fit-content;
    cursor: grab;
    transition: border-color 0.2s ease, transform 0.22s ease;
  }
  .rv-card:active {
    cursor: grabbing;
  }

  /* верх карточки */
  .rv-top {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 8px;
  }

  .rv-avatar {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(148, 163, 184, 0.8);
    overflow: hidden;
  }

  .rv-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .rv-meta {
    display: flex;
    flex-direction: column;
    gap: 2px;
    line-height: 1.1;
  }

  .rv-meta strong {
    color: var(--rv-text-main);
    font-weight: 700;
    font-size: 15px;
  }

  .rv-meta span {
    font-size: 12px;
    color: var(--textColor2);
  }

  .rv-rate {
    margin-left: auto;
    color: var(--secondStyleColor);
    font-weight: 800;
    font-size: 20px;
  }

  /* текст отзыва */
  .rv-quote {
    font-size: 14px;
    line-height: 1.5;
    margin: 6px 0 12px;
    color: var(--textColor1);
    flex-grow: 1;
  }

  /* теги */
  .rv-tags {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
  }

  .rv-tags span {
    font-size: 11px;
    padding: 4px 10px;
    border-radius: 999px;
    background: var(--rv-chip);
    border: 1px solid rgba(148, 163, 184, 0.6);
    color: #e5e7eb;
    letter-spacing: 0.06em;
    text-transform: uppercase;
  }

  /* мини-лейблы */
  .pill {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 4px 9px;
    border-radius: 999px;
    font-size: 14px;
    font-weight: 600;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    background: var(--secondStyleColor);
    color: var(--textColor2);
  }

  /* адаптив */
  @media (max-width: 980px) {
    .rv-card {
      height: 190px;
      width: 90%;
      height: auto;
      margin-inline: auto;
      padding: 16px;
    }

    .pill {
      font-size: 12px;
    }
    .rv-quote {
      font-size: 20px;
    }
  }

  @media (max-width: 640px) {
    .rv-wrap {
      padding: 28px 0 32px;
    }

    .rv-card {
      width: 90%;
      height: auto;
      margin-inline: auto;
      padding: 16px;
      padding: 16px;
    }

    .rv-controls {
      justify-content: flex-start;
    }
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    if (typeof Swiper === "undefined") return;

    const swiperReviews = new Swiper("#reviews .swiper", {
      loop: true,
      loopAdditionalSlides: 6, // больше клонов — стабильнее loop
      spaceBetween: 20,
      slidesPerView: 3, // ровно 3 на экране
      centeredSlides: true, // активный по центру
      speed: 550,
      effect: "coverflow",
      coverflowEffect: {
        rotate: 50,
        stretch: 0,
        depth: 100,
        modifier: 1,
        slideShadows: true,
      },

      // управление
      navigation: {
        nextEl: "#reviews .rev-btn.next",
        prevEl: "#reviews .rev-btn.prev",
        disabledClass: "is-disabled",
      },
      mousewheel: { enabled: true, forceToAxis: true }, // скролл колёсиком
      keyboard: { enabled: true, onlyInViewport: true },

      // адаптив
      breakpoints: {
        981: { slidesPerView: 3, spaceBetween: 20, centeredSlides: true },
        621: { slidesPerView: 2, spaceBetween: 18, centeredSlides: true },
        0: { slidesPerView: 1, spaceBetween: 16, centeredSlides: true },
      },

      // чтобы корректно пересчитаться, если контейнер был скрыт/изменён
      observer: true,
      observeParents: true,
      watchSlidesProgress: true,
    });
  });
</script>
